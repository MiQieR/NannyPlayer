# 老年人音乐播放器 (Nanny Player)

一个专为老年人设计的简洁音乐播放器，优化适配 320x480 竖屏分辨率的 Android 手机。

## 主要特性

### 适老化设计
- **超大按钮**: 播放/暂停按钮尺寸为 160x160，方便老年人点击
- **简洁界面**: 无复杂功能，直接进入播放页面
- **大字体**: 所有文本使用加大字体，易于阅读
- **不显示专辑封面**: 保持界面简洁，减少视觉干扰

### 核心功能
- **播放控制**: 播放/暂停、上一曲、下一曲
- **进度显示**: 实时显示播放进度和总时长
- **进度拖动**: 可拖动进度条跳转播放位置
- **自动保存**: 退出App自动暂停并保存播放进度
- **断点续播**: 再次打开App自动恢复到上次播放位置

### 技术特性
- 竖屏锁定（仅支持竖屏显示）
- 使用 `just_audio` 插件实现高质量音频播放
- 使用 `shared_preferences` 保存播放状态
- 支持从设备存储选择音乐文件

## 界面布局

```
┌─────────────────────────┐
│     歌曲名称显示          │
│    00:00 / 00:00        │
├─────────────────────────┤
│                         │
│                         │
│     ┌───────────┐       │
│     │           │       │
│     │  播放/暂停 │       │
│     │  (超大按钮)│       │
│     └───────────┘       │
│                         │
│    ◄◄     ►►           │
│  (上一曲) (下一曲)        │
│                         │
├─────────────────────────┤
│   ────●────────         │
│   (播放进度条)           │
│                         │
│   [添加音乐]            │
└─────────────────────────┘
```

## 使用方法

### 首次使用
1. 打开App后点击超大的播放按钮或底部的"添加音乐"按钮
2. 从设备存储中选择音乐文件（支持多选）
3. 选择完成后自动开始播放

### 日常使用
- **播放/暂停**: 点击中间的超大圆形按钮
- **切换歌曲**: 点击下方的上一曲/下一曲按钮
- **调整进度**: 拖动进度条到想要的位置
- **添加更多音乐**: 点击底部"添加音乐"按钮

### 自动功能
- 退出App时自动暂停并保存进度
- 再次打开App时自动恢复到上次播放的歌曲和位置
- 歌曲播放完毕自动播放下一曲

## 开发环境要求

- Flutter SDK (3.9.2 或更高版本)
- Android SDK (minSdkVersion: 21)
- Dart SDK

## 安装和运行

1. 安装依赖:
```bash
flutter pub get
```

2. 连接Android设备或启动Android模拟器

3. 运行应用:
```bash
flutter run
```

4. 构建APK:
```bash
flutter build apk --release
```

## 项目结构

```
lib/
└── main.dart          # 主程序入口和播放器界面
android/
├── app/
│   ├── src/main/
│   │   └── AndroidManifest.xml  # Android权限配置
│   └── build.gradle.kts         # Android构建配置
pubspec.yaml          # 项目依赖配置
```

## 使用的第三方包

- `just_audio: ^0.9.36` - 音频播放
- `shared_preferences: ^2.2.2` - 本地存储
- `path_provider: ^2.1.1` - 文件路径访问
- `file_picker: ^6.1.1` - 文件选择器

## Android权限

应用需要以下权限：
- `READ_EXTERNAL_STORAGE` - 读取音频文件（Android 12及以下）
- `READ_MEDIA_AUDIO` - 读取音频文件（Android 13及以上）
- `WAKE_LOCK` - 播放时保持设备唤醒
- `FOREGROUND_SERVICE` - 后台播放支持

## 注意事项

1. 首次使用时需要授予存储权限
2. 仅支持Android平台
3. 界面专为320x480分辨率优化
4. 锁定竖屏方向，不支持横屏

## 版本信息

- 版本: 1.0.0
- 构建号: 1
